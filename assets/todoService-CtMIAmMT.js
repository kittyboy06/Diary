import{c as d,s as a}from"./index-CHzR-8ww.js";import{t as i}from"./format-mVbgGZla.js";import{a as c}from"./addDays-BxqyZ8Wb.js";import{a as l,c as f}from"./isToday-W0RLf5oP.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=d("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function p(e){return+i(e)<Date.now()}function y(e){return l(e,c(f(e),1))}const _=async(e,t="all")=>{let o=a.from("todos").select("*").eq("user_id",e).order("created_at",{ascending:!1});t!=="all"&&(t==="unassigned"?o=o.is("folder_id",null):o=o.eq("folder_id",t));const{data:r,error:s}=await o;if(s)throw s;return r},q=async(e,t,o=null,r=null)=>{const{data:s,error:n}=await a.from("todos").insert([{user_id:e,text:t,completed:!1,deadline:o,folder_id:r}]).select().single();if(n)throw n;return s},T=async(e,t)=>{const{data:o,error:r}=await a.from("todos").update(t).eq("id",e).select().single();if(r)throw r;return o},C=async e=>{const{error:t}=await a.from("todos").delete().eq("id",e);if(t)throw t},D=async(e,t=5)=>{const{data:o,error:r}=await a.from("todos").select("*").eq("user_id",e).eq("completed",!1).not("deadline","is",null).gte("deadline",new Date().toISOString()).order("deadline",{ascending:!0}).limit(t);if(r||r)throw r;return o},k=async e=>{const{data:t,error:o}=await a.from("todo_folders").select("*").eq("user_id",e).order("created_at",{ascending:!0});if(o)throw o;return t},F=async(e,t)=>{const{data:o,error:r}=await a.from("todo_folders").insert([{user_id:e,name:t}]).select().single();if(r)throw r;return o},S=async e=>{const{error:t}=await a.from("todo_folders").delete().eq("id",e);if(t)throw t};export{h as C,y as a,_ as b,k as c,F as d,S as e,q as f,D as g,C as h,p as i,T as u};
